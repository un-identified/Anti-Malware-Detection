import streamlit as st
import pandas as pd
import joblib
import numpy as np

# Title and description
st.title("Malware Detection with Decision Trees")
st.write("This app uses a fixed dataset for malware detection.")

# Load your dataset
data = pd.read_csv('Pe_dataset.csv')

# Load your trained model
model = joblib.load('decision_tree_model.joblib')

# Optional: Display accuracy or other model evaluation metrics here

# Provide a form for user input
st.header("Make Predictions")
st.write("Enter values for prediction:")

# Input form
size_of_data = st.number_input("Size of Data", min_value=0)
virtual_address = st.number_input("Virtual Address", min_value=0)
entropy = st.number_input("Entropy", min_value=0.0)
virtual_size = st.number_input("Virtual Size", min_value=0)

if st.button("Predict"):
    # Create a DataFrame from the input data
    input_data = np.array([size_of_data, virtual_address, entropy, virtual_size])
    input_df = pd.DataFrame([input_data])
    input_df.columns = ['size_of_data', 'virtual_address', 'entropy', 'virtual_size']

    # Make predictions using the input data
    prediction = model.predict(input_df)

    if prediction == 1:
        st.write('The file is classified as malware.')
    else:
        st.write('The file is classified as benign')

# Add additional information or instructions here, if needed.
